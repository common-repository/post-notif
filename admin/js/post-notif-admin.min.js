!function(t){"use strict";function e(){t(".pn-chkoverridetheme").click(function(e){this.checked?t(".pn-overridetheme").slideDown():t(".pn-overridetheme").slideUp()})}function o(){t(".pn-chk-override-theme-options").click(function(e){this.checked?t("#override_theme_css_option").show():t("#override_theme_css_option").hide()})}t(function(){t("#id_btnPostNotifSend").click(function(e){var o=document.getElementById("id_hdnPostID").value;if(t("#id_btnPostNotifSend").hide(),t("#id_spnPostNotifStatus").text(post_notif_send_ajax_obj.processing_msg),t("#id_spnPostNotifSendNowOrSchedActive").hasClass("pn-sendnow"))t("#id_divPostNotifManualSendControls").hide(),t.post(ajaxurl,{action:"init_post_notif_send",post_id:o},function(e){t("#id_spnPostNotifStatus").text(e.message)});else{var i=t("#id_selPostNotifSchedYear").val(),n=t("#id_selPostNotifSchedMonth").val(),s=t("#id_selPostNotifSchedDay").val(),d=t("#id_selPostNotifSchedHour").val(),a=t("#id_selPostNotifSchedMinute").val(),_=new Date(i,n-1,s,d,a);if(_.getFullYear()!=i||1+_.getMonth()!=n||_.getDate()!=s||_.getMinutes()!=a)return t("#id_spnPostNotifStatus").text(post_notif_send_ajax_obj.invalid_date_format_msg),t("#id_btnPostNotifSend").show(),!1;t("#id_divPostNotifManualSendControls").hide();var c=1+_.getMonth()+":"+_.getDate()+":"+_.getFullYear()+":"+_.getHours()+":"+_.getMinutes(),l=t("#hidden_mm").val()+":"+t("#hidden_jj").val()+":"+t("#hidden_aa").val()+":"+t("#hidden_hh").val()+":"+t("#hidden_mm").val()+":"+t("#hidden_mn").val();t.post(post_notif_send_ajax_obj.ajax_url,{_ajax_nonce:post_notif_send_ajax_obj.nonce,action:"schedule_post_notif_send",post_id:o,datetime_local:c,publish_datetime_local:l},function(e){e.valid_datetime?(t("#id_spnPostNotifSendSchedTimestamp").hide(),t("#id_spnPostNotifScheduledFor").text(e.timestamp),t("#id_spnPostNotifScheduledFor").show()):(t("#id_divPostNotifManualSendControls").show(),t("#id_btnPostNotifSend").show()),t("#id_spnPostNotifStatus").text(e.message)})}})}),t(function(){t("#id_btnPostNotifTestSend").click(function(e){var o=t("#id_hdnPostID").val(),i=t("#id_emlPostNotifTestSendRecipients").val();jQuery("#id_spnPostNotifTestSendStatus").text(post_notif_test_send_ajax_obj.processing_msg),t.post(post_notif_test_send_ajax_obj.ajax_url,{_ajax_nonce:post_notif_test_send_ajax_obj.nonce,action:"test_post_notif_send",post_id:o,recipients:i},function(t){var e="",o="";t.sent_email_arr.length>0&&(e="<strong>"+t.successfully_sent_label+"</strong><br />",t.sent_email_arr.forEach(function(t){e=e+t+"<br />"}),e+="<br /><br />"),t.invalid_email_arr.length>0&&(o="<strong>"+t.invalid_email_address_label+"</strong><br />",t.invalid_email_arr.forEach(function(t){o=o+t+"<br />"})),jQuery("#id_spnPostNotifTestSendStatus").html(t.process_complete_message+"<br /><br />"+e+o)})})}),t(function(){t("#id_lnkPostNotifSchedAuto").click(function(e){t(this).hasClass("pn-auto")?(t(this).removeClass("pn-auto").addClass("pn-manual"),t("#id_spnPostNotifSchedActive").text(t("#id_hdnPostNotifManualOptionLabel").val()),t("#id_spnPostNotifSchedInactive").text(t("#id_hdnPostNotifAutoOptionLabel").val()),t("#id_hdnPostNotifSchedAuto").val("no"),t("#id_divPostNotifManualSend").show()):(t(this).removeClass("pn-manual").addClass("pn-auto"),t("#id_spnPostNotifSchedActive").text(t("#id_hdnPostNotifAutoOptionLabel").val()),t("#id_spnPostNotifSchedInactive").text(t("#id_hdnPostNotifManualOptionLabel").val()),t("#id_hdnPostNotifSchedAuto").val("yes"),t("#id_divPostNotifManualSend").hide())})}),t(function(){t("#id_lnkPostNotifSendNowOrSched").click(function(e){t("#id_spnPostNotifStatus").text(""),t("#id_spnPostNotifSendNowOrSchedActive").hasClass("pn-schedule")?(t("#id_spnPostNotifSendNowOrSchedActive").removeClass("pn-schedule").addClass("pn-sendnow"),t("#id_spnPostNotifSendNowOrSchedActive").text(t("#id_hdnPostNotifSendNowOptionLabel").val()),t("#id_spnPostNotifSendNowOrSchedInactive").text(t("#id_hdnPostNotifScheduleOptionLabel").val()),t("#id_spnPostNotifSendSchedTimestamp").hide(),t("#id_btnPostNotifSend").prop("value",jQuery("#id_hdnPostNotifSendNowButtonLabel").val())):(t("#id_spnPostNotifSendNowOrSchedActive").removeClass("pn-sendnow").addClass("pn-schedule"),t("#id_spnPostNotifSendNowOrSchedActive").text(t("#id_hdnPostNotifScheduleOptionLabel").val()),t("#id_spnPostNotifSendNowOrSchedInactive").text(t("#id_hdnPostNotifSendNowOptionLabel").val()),t("#id_spnPostNotifSendSchedTimestamp").show(),t("#id_btnPostNotifSend").prop("value",jQuery("#id_hdnPostNotifScheduleButtonLabel").val()))})}),t(function(){t("#available_categories\\[0\\]").click(function(e){this.checked?t(".cats").each(function(){this.checked=!0,this.disabled=!0}):t(".cats").each(function(){this.checked=!1,this.disabled=!1})})}),t(document).ready(function(){e(),o()}),t(document).ajaxComplete(function(){e(),o()}),t(function(){t("#enable_batch_send_options").click(function(e){this.checked?(t("#batch_size").removeAttr("readonly"),t("#batch_pause").removeAttr("readonly")):(t("#batch_size").attr("readonly","true"),t("#batch_pause").attr("readonly","true"))})})}(jQuery);
